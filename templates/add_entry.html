{% extends "layout.html" %}

{% block title %}
Add Entry
{% endblock %}

{% block main %}
<form action="/add_entry" method="post">
    <table class="table">
        <thead>
        </thead>
        <tbody>
            <tr>
                <td class="align-middle">Amount</td>
                <td class="align-middle">
                    <div class="form-group">
                        <input autocomplete="off" autofocus class="form-control" name="amount" id="amount" type="number"
                            step="0.01" placeholder="Amount" onkeyup="enableSubmit();" onchange="enableSubmit();"
                            onblur="enableSubmit();">
                    </div>
                </td>
            </tr>
            <tr>
                <td class="align-middle">Category</td>
                <td class="align-middle">
                    <div class="form-group">
                        <select id="category" name="category">
                            {% for category in categories %}
                            <option value="{{ category.id }}">{{ category.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <br>
    <button class="btn btn-primary" type="submit" name="add" id="add" disabled>Add</button>
</form>
<script>
    let submit = document.querySelector("#add");

    function enableSubmit() {
        let amount = document.querySelector("#amount").value

        if (amount) {

            submit.disabled = false;
        }
        else {
            submit.disabled = true;
        }
    }
</script>
{% endblock %}